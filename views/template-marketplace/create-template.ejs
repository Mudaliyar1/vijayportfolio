<!-- Create Template Page -->
<div class="container mx-auto px-4 py-8">
  <div class="flex flex-col md:flex-row justify-between items-start mb-8">
    <div>
      <h1 class="text-3xl font-bold text-white mb-2">Submit Template</h1>
      <p class="text-gray-400">Share your template with the community</p>
    </div>
    <div class="mt-4 md:mt-0">
      <a href="/template-marketplace/my-templates" class="bg-dark-200 hover:bg-dark-300 text-gray-300 px-4 py-2 rounded-md transition-colors">
        <i class="fas fa-arrow-left mr-2"></i>Back to My Templates
      </a>
    </div>
  </div>

  <!-- Template Form -->
  <div class="bg-dark-200 rounded-lg p-6">
    <form action="/template-marketplace/create" method="POST" enctype="multipart/form-data" class="space-y-6">
      <!-- Basic Information -->
      <div>
        <h2 class="text-xl font-semibold text-white mb-4">Basic Information</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label for="name" class="block text-gray-300 mb-2">Template Name *</label>
            <input type="text" id="name" name="name" required class="w-full bg-dark-300 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-neon-blue">
          </div>
          <div>
            <label for="businessType" class="block text-gray-300 mb-2">Category *</label>
            <select id="businessType" name="businessType" required class="w-full bg-dark-300 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-neon-blue">
              <option value="" disabled selected>Select a category</option>
              <% categories.forEach(category => { %>
                <option value="<%= category %>"><%= category %></option>
              <% }); %>
              <option value="other">Other</option>
            </select>
          </div>
          <div>
            <label for="packageType" class="block text-gray-300 mb-2">Package Type *</label>
            <select id="packageType" name="packageType" required class="w-full bg-dark-300 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-neon-blue">
              <option value="" disabled selected>Select a package type</option>
              <option value="free">Free</option>
              <option value="basic">Basic</option>
              <option value="premium">Premium</option>
              <option value="enterprise">Enterprise</option>
            </select>
          </div>
          <div>
            <label for="price" class="block text-gray-300 mb-2">Price (0 for free)</label>
            <input type="number" id="price" name="price" min="0" step="0.01" value="0" class="w-full bg-dark-300 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-neon-blue">
          </div>
          <div class="md:col-span-2">
            <label for="description" class="block text-gray-300 mb-2">Description *</label>
            <textarea id="description" name="description" rows="4" required class="w-full bg-dark-300 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-neon-blue"></textarea>
          </div>
        </div>
      </div>

      <!-- Design Options -->
      <div>
        <h2 class="text-xl font-semibold text-white mb-4">Design Options</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label for="theme" class="block text-gray-300 mb-2">Theme</label>
            <select id="theme" name="theme" class="w-full bg-dark-300 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-neon-blue">
              <option value="default">Default</option>
              <option value="modern">Modern</option>
              <option value="classic">Classic</option>
              <option value="minimal">Minimal</option>
              <option value="bold">Bold</option>
            </select>
          </div>
          <div>
            <label for="colorScheme" class="block text-gray-300 mb-2">Color Scheme</label>
            <select id="colorScheme" name="colorScheme" class="w-full bg-dark-300 border border-gray-600 rounded-md px-4 py-2 text-white focus:outline-none focus:border-neon-blue">
              <option value="blue">Blue</option>
              <option value="green">Green</option>
              <option value="purple">Purple</option>
              <option value="red">Red</option>
              <option value="orange">Orange</option>
              <option value="monochrome">Monochrome</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Files -->
      <div>
        <h2 class="text-xl font-semibold text-white mb-4">Template Files</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label for="thumbnail" class="block text-gray-300 mb-2">Thumbnail Image *</label>
            <div class="flex items-center">
              <label class="w-full flex flex-col items-center px-4 py-6 bg-dark-300 text-gray-300 rounded-lg border border-gray-600 cursor-pointer hover:bg-dark-400 transition-colors">
                <i class="fas fa-cloud-upload-alt text-2xl mb-2"></i>
                <span class="text-sm">Upload thumbnail (max 2MB)</span>
                <input type="file" id="thumbnail" name="thumbnail" accept="image/*" required class="hidden">
              </label>
            </div>
            <div id="thumbnail-preview" class="mt-2 hidden">
              <img src="" alt="Thumbnail preview" class="w-full h-32 object-cover rounded-md">
            </div>
          </div>
          <div>
            <label for="preview" class="block text-gray-300 mb-2">Preview Image</label>
            <div class="flex items-center">
              <label class="w-full flex flex-col items-center px-4 py-6 bg-dark-300 text-gray-300 rounded-lg border border-gray-600 cursor-pointer hover:bg-dark-400 transition-colors">
                <i class="fas fa-cloud-upload-alt text-2xl mb-2"></i>
                <span class="text-sm">Upload preview (max 2MB)</span>
                <input type="file" id="preview" name="preview" accept="image/*" class="hidden">
              </label>
            </div>
            <div id="preview-preview" class="mt-2 hidden">
              <img src="" alt="Preview image" class="w-full h-32 object-cover rounded-md">
            </div>
          </div>
          <div>
            <label for="htmlFile" class="block text-gray-300 mb-2">HTML File *</label>
            <div class="flex items-center">
              <label class="w-full flex flex-col items-center px-4 py-6 bg-dark-300 text-gray-300 rounded-lg border border-gray-600 cursor-pointer hover:bg-dark-400 transition-colors">
                <i class="fas fa-file-code text-2xl mb-2"></i>
                <span class="text-sm">Upload HTML file</span>
                <input type="file" id="htmlFile" name="htmlFile" accept=".html,.htm" required class="hidden">
              </label>
            </div>
            <div id="html-file-name" class="mt-2 text-sm text-gray-400 hidden"></div>
          </div>
          <div>
            <label for="cssFile" class="block text-gray-300 mb-2">CSS File *</label>
            <div class="flex items-center">
              <label class="w-full flex flex-col items-center px-4 py-6 bg-dark-300 text-gray-300 rounded-lg border border-gray-600 cursor-pointer hover:bg-dark-400 transition-colors">
                <i class="fas fa-file-code text-2xl mb-2"></i>
                <span class="text-sm">Upload CSS file</span>
                <input type="file" id="cssFile" name="cssFile" accept=".css" required class="hidden">
              </label>
            </div>
            <div id="css-file-name" class="mt-2 text-sm text-gray-400 hidden"></div>
          </div>
          <div>
            <label for="jsFile" class="block text-gray-300 mb-2">JavaScript File (optional)</label>
            <div class="flex items-center">
              <label class="w-full flex flex-col items-center px-4 py-6 bg-dark-300 text-gray-300 rounded-lg border border-gray-600 cursor-pointer hover:bg-dark-400 transition-colors">
                <i class="fas fa-file-code text-2xl mb-2"></i>
                <span class="text-sm">Upload JS file</span>
                <input type="file" id="jsFile" name="jsFile" accept=".js" class="hidden">
              </label>
            </div>
            <div id="js-file-name" class="mt-2 text-sm text-gray-400 hidden"></div>
          </div>
        </div>
      </div>

      <!-- Terms and Submission -->
      <div class="border-t border-gray-700 pt-6">
        <div class="mb-4">
          <label class="flex items-start">
            <input type="checkbox" required class="mt-1 mr-3">
            <span class="text-gray-300 text-sm">
              I confirm that I have the rights to distribute this template and agree to the 
              <a href="#" class="text-neon-blue hover:underline">Terms and Conditions</a>.
            </span>
          </label>
        </div>
        <div class="flex justify-end">
          <button type="submit" class="bg-neon-blue hover:bg-blue-600 text-white px-6 py-3 rounded-md transition-colors">
            Submit Template
          </button>
        </div>
      </div>
    </form>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // File preview functionality
    const thumbnailInput = document.getElementById('thumbnail');
    const thumbnailPreview = document.getElementById('thumbnail-preview');
    const thumbnailImage = thumbnailPreview.querySelector('img');
    
    const previewInput = document.getElementById('preview');
    const previewPreview = document.getElementById('preview-preview');
    const previewImage = previewPreview.querySelector('img');
    
    const htmlFileInput = document.getElementById('htmlFile');
    const htmlFileName = document.getElementById('html-file-name');
    
    const cssFileInput = document.getElementById('cssFile');
    const cssFileName = document.getElementById('css-file-name');
    
    const jsFileInput = document.getElementById('jsFile');
    const jsFileName = document.getElementById('js-file-name');
    
    // Thumbnail preview
    thumbnailInput.addEventListener('change', function() {
      if (this.files && this.files[0]) {
        const reader = new FileReader();
        
        reader.onload = function(e) {
          thumbnailImage.src = e.target.result;
          thumbnailPreview.classList.remove('hidden');
        };
        
        reader.readAsDataURL(this.files[0]);
      }
    });
    
    // Preview image preview
    previewInput.addEventListener('change', function() {
      if (this.files && this.files[0]) {
        const reader = new FileReader();
        
        reader.onload = function(e) {
          previewImage.src = e.target.result;
          previewPreview.classList.remove('hidden');
        };
        
        reader.readAsDataURL(this.files[0]);
      }
    });
    
    // HTML file name display
    htmlFileInput.addEventListener('change', function() {
      if (this.files && this.files[0]) {
        htmlFileName.textContent = this.files[0].name;
        htmlFileName.classList.remove('hidden');
      }
    });
    
    // CSS file name display
    cssFileInput.addEventListener('change', function() {
      if (this.files && this.files[0]) {
        cssFileName.textContent = this.files[0].name;
        cssFileName.classList.remove('hidden');
      }
    });
    
    // JS file name display
    jsFileInput.addEventListener('change', function() {
      if (this.files && this.files[0]) {
        jsFileName.textContent = this.files[0].name;
        jsFileName.classList.remove('hidden');
      }
    });
  });
</script>
