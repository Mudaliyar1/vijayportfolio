<div class="container mx-auto px-4 py-12 bg-gray-900">
  <div class="text-center mb-8">
    <h1 class="text-4xl font-bold mb-4 text-white bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-500 to-red-500 inline-block">Choose Your Website Package</h1>
    <p class="text-gray-300 max-w-2xl mx-auto">Select the perfect package for your website needs. All packages include our AI-powered website builder, responsive design, and secure hosting.</p>
  </div>

  <!-- AI Budget Calculator -->
  <div class="max-w-4xl mx-auto mb-16 bg-dark-100 rounded-xl overflow-hidden shadow-2xl border border-purple-500/30 relative">
    <!-- Background gradient effect -->
    <div class="absolute inset-0 bg-gradient-to-br from-purple-600/5 to-blue-600/5 z-0"></div>

    <div class="p-6 bg-gradient-to-r from-purple-900/40 to-indigo-900/40 border-b border-purple-500/20">
      <div class="flex items-center">
        <div class="w-12 h-12 rounded-full bg-gradient-to-r from-purple-500 to-indigo-500 flex items-center justify-center mr-4 shadow-lg">
          <i class="fas fa-robot text-white text-xl"></i>
        </div>
        <div>
          <h2 class="text-2xl font-bold text-white">AI Package Finder</h2>
          <p class="text-gray-300 text-sm">Let our AI suggest the perfect package based on your budget and needs</p>
        </div>
      </div>
    </div>

    <div class="p-6 relative z-10">
      <!-- Budget Slider -->
      <div class="mb-8">
        <div class="flex justify-between items-center mb-2">
          <label for="budget-slider" class="text-white font-medium">Your Budget</label>
          <span class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-500" id="budget-value">₹500</span>
        </div>
        <div class="relative">
          <input type="range" id="budget-slider" min="0" max="2000" step="100" value="500"
                class="w-full h-3 bg-dark-300 rounded-lg appearance-none cursor-pointer">
          <div class="absolute left-0 right-0 bottom-0 h-3 bg-gradient-to-r from-green-500 to-blue-500 rounded-lg pointer-events-none" id="slider-progress" style="width: 25%"></div>
        </div>
        <div class="flex justify-between mt-1 text-xs text-gray-400" id="slider-markers">
          <!-- Markers will be dynamically generated based on package prices -->
          <span>₹0</span>
          <span>₹500</span>
          <span>₹1000</span>
          <span>₹1500</span>
          <span>₹2000+</span>
        </div>
      </div>

      <!-- Website Type Selection -->
      <div class="mb-8">
        <label class="text-white font-medium block mb-2">Website Type</label>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
          <button class="website-type-btn bg-dark-200 hover:bg-dark-300 border border-purple-500/30 rounded-lg p-3 text-center transition-all duration-200 active" data-type="personal">
            <i class="fas fa-user text-purple-400 text-xl mb-2"></i>
            <span class="block text-white text-sm">Personal</span>
          </button>
          <button class="website-type-btn bg-dark-200 hover:bg-dark-300 border border-purple-500/30 rounded-lg p-3 text-center transition-all duration-200" data-type="business">
            <i class="fas fa-briefcase text-blue-400 text-xl mb-2"></i>
            <span class="block text-white text-sm">Business</span>
          </button>
          <button class="website-type-btn bg-dark-200 hover:bg-dark-300 border border-purple-500/30 rounded-lg p-3 text-center transition-all duration-200" data-type="ecommerce">
            <i class="fas fa-shopping-cart text-green-400 text-xl mb-2"></i>
            <span class="block text-white text-sm">E-commerce</span>
          </button>
          <button class="website-type-btn bg-dark-200 hover:bg-dark-300 border border-purple-500/30 rounded-lg p-3 text-center transition-all duration-200" data-type="blog">
            <i class="fas fa-pen-fancy text-pink-400 text-xl mb-2"></i>
            <span class="block text-white text-sm">Blog</span>
          </button>
        </div>
      </div>

      <!-- Features Selection -->
      <div class="mb-8">
        <label class="text-white font-medium block mb-2">Must-Have Features</label>
        <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
          <label class="feature-checkbox flex items-center bg-dark-200 hover:bg-dark-300 border border-purple-500/30 rounded-lg p-3 cursor-pointer transition-all duration-200">
            <input type="checkbox" class="mr-3 accent-purple-500 h-4 w-4" value="gallery">
            <span class="text-white text-sm">Image Gallery</span>
          </label>
          <label class="feature-checkbox flex items-center bg-dark-200 hover:bg-dark-300 border border-purple-500/30 rounded-lg p-3 cursor-pointer transition-all duration-200">
            <input type="checkbox" class="mr-3 accent-purple-500 h-4 w-4" value="blog">
            <span class="text-white text-sm">Blog Section</span>
          </label>
          <label class="feature-checkbox flex items-center bg-dark-200 hover:bg-dark-300 border border-purple-500/30 rounded-lg p-3 cursor-pointer transition-all duration-200">
            <input type="checkbox" class="mr-3 accent-purple-500 h-4 w-4" value="contact">
            <span class="text-white text-sm">Contact Form</span>
          </label>
          <label class="feature-checkbox flex items-center bg-dark-200 hover:bg-dark-300 border border-purple-500/30 rounded-lg p-3 cursor-pointer transition-all duration-200">
            <input type="checkbox" class="mr-3 accent-purple-500 h-4 w-4" value="testimonials">
            <span class="text-white text-sm">Testimonials</span>
          </label>
          <label class="feature-checkbox flex items-center bg-dark-200 hover:bg-dark-300 border border-purple-500/30 rounded-lg p-3 cursor-pointer transition-all duration-200">
            <input type="checkbox" class="mr-3 accent-purple-500 h-4 w-4" value="ecommerce">
            <span class="text-white text-sm">E-commerce</span>
          </label>
          <label class="feature-checkbox flex items-center bg-dark-200 hover:bg-dark-300 border border-purple-500/30 rounded-lg p-3 cursor-pointer transition-all duration-200">
            <input type="checkbox" class="mr-3 accent-purple-500 h-4 w-4" value="custom">
            <span class="text-white text-sm">Custom Layout</span>
          </label>
        </div>
      </div>

      <!-- AI Recommendation Button -->
      <div class="text-center">
        <button id="get-recommendation-btn" class="px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl">
          <i class="fas fa-magic mr-2"></i> Get AI Recommendation
        </button>
      </div>
    </div>
  </div>

  <!-- AI Recommendation Result (Initially Hidden) -->
  <div id="ai-recommendation" class="max-w-4xl mx-auto mb-16 bg-dark-100 rounded-xl overflow-hidden shadow-2xl border border-indigo-500/30 relative hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-indigo-600/5 to-purple-600/5 z-0"></div>

    <div class="p-6 bg-gradient-to-r from-indigo-900/40 to-purple-900/40 border-b border-indigo-500/20 flex justify-between items-center">
      <div class="flex items-center">
        <div class="w-12 h-12 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center mr-4 shadow-lg">
          <i class="fas fa-robot text-white text-xl"></i>
        </div>
        <div>
          <h2 class="text-2xl font-bold text-white">AI Recommendation</h2>
          <p class="text-gray-300 text-sm">Based on your requirements</p>
        </div>
      </div>
      <button id="close-recommendation" class="text-gray-400 hover:text-white transition-colors">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <div class="p-6 relative z-10">
      <div class="flex items-start mb-6 pb-6 border-b border-gray-700">
        <div class="flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center mr-4">
          <i class="fas fa-comment-alt text-white"></i>
        </div>
        <div class="bg-dark-200 rounded-lg p-4 relative ml-2 flex-grow">
          <!-- Arrow pointing to the avatar -->
          <div class="absolute left-0 top-4 transform -translate-x-2 rotate-45 w-3 h-3 bg-dark-200"></div>

          <p class="text-gray-300 mb-3" id="ai-message">Based on your budget of <span class="text-white font-semibold">₹500</span> and requirements for a <span class="text-white font-semibold">Personal</span> website with <span class="text-white font-semibold">Gallery</span> and <span class="text-white font-semibold">Contact Form</span>, I recommend:</p>

          <div class="bg-dark-300 rounded-lg p-4 border border-indigo-500/30">
            <h3 class="text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400 mb-2" id="recommended-package-name">Basic Package</h3>
            <p class="text-gray-300 text-sm mb-3" id="recommended-package-description">Perfect for personal websites with essential features.</p>
            <div class="flex justify-between items-center">
              <span class="text-gray-400 text-sm">Price: <span class="text-white font-semibold" id="recommended-package-price">₹499</span></span>
              <a href="#recommended-package" class="text-indigo-400 hover:text-indigo-300 text-sm">View Details <i class="fas fa-arrow-down ml-1"></i></a>
            </div>
          </div>
        </div>
      </div>

      <div class="text-center">
        <p class="text-gray-400 text-sm mb-4">Scroll down to see all available packages or click the button below to view the recommended package.</p>
        <a href="#recommended-package" class="inline-block px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium rounded-lg transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg">
          <i class="fas fa-eye mr-2"></i> View Recommended Package
        </a>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 text-black" id="package-grid">
    <% packages.forEach(package => { %>
      <div class="package-card bg-dark-100 rounded-xl shadow-2xl overflow-hidden border-2 <%= package.isFree ? 'border-green-500/30' : 'border-blue-500/30' %> hover:shadow-[0_0_30px_rgba(0,0,0,0.3)] hover:<%= package.isFree ? 'border-green-400/50' : 'border-blue-400/50' %> transition-all duration-300 transform hover:-translate-y-1" id="package-<%= package._id %>">
        <div class="bg-gradient-to-br <%= package.isFree ? 'from-green-500 via-green-400 to-emerald-600' : 'from-blue-500 via-indigo-500 to-purple-600' %> p-6 text-white relative overflow-hidden">
          <!-- Animated background effect -->
          <div class="absolute inset-0 bg-gradient-to-r <%= package.isFree ? 'from-green-400/20 to-emerald-300/20' : 'from-blue-400/20 to-purple-300/20' %> transform -skew-y-12 opacity-50"></div>

          <h2 class="text-2xl font-bold relative z-10"><%= package.name %></h2>
          <div class="flex justify-between items-center mt-2 relative z-10">
            <p class="text-3xl font-bold"><%= package.isFree ? 'FREE' : '₹' + package.price %></p>
            <span class="<%= package.isFree ? 'bg-green-700/50 border border-green-300/30' : 'bg-blue-700/50 border border-blue-300/30' %> backdrop-blur-sm text-white text-xs px-3 py-1 rounded-full shadow-lg">
              <%= package.isFree ? 'Free Package' : 'Paid Package' %>
            </span>
          </div>
        </div>

        <div class="p-6 bg-dark-200 text-white">
          <p class="text-gray-300 mb-4 font-medium"><%= package.description %></p>

          <ul class="space-y-3 mb-6">
            <% package.features.forEach(feature => { %>
              <li class="flex items-start">
                <div class="flex-shrink-0 w-5 h-5 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center mr-3 mt-0.5 shadow-lg shadow-green-500/20">
                  <svg class="h-3 w-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <span class="text-gray-300"><%= feature %></span>
              </li>
            <% }); %>

            <li class="flex items-start">
              <div class="flex-shrink-0 w-5 h-5 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center mr-3 mt-0.5 shadow-lg shadow-green-500/20">
                <svg class="h-3 w-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                </svg>
              </div>
              <span class="text-gray-300">Up to <%= package.maxPages %> pages</span>
            </li>

            <% if (package.allowBlog) { %>
              <li class="flex items-start">
                <div class="flex-shrink-0 w-5 h-5 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center mr-3 mt-0.5 shadow-lg shadow-green-500/20">
                  <svg class="h-3 w-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <span class="text-gray-300">Blog functionality</span>
              </li>
            <% } %>

            <% if (package.allowGallery) { %>
              <li class="flex items-start">
                <div class="flex-shrink-0 w-5 h-5 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center mr-3 mt-0.5 shadow-lg shadow-green-500/20">
                  <svg class="h-3 w-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <span class="text-gray-300">Gallery/Portfolio</span>
              </li>
            <% } %>

            <% if (package.allowContact) { %>
              <li class="flex items-start">
                <div class="flex-shrink-0 w-5 h-5 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center mr-3 mt-0.5 shadow-lg shadow-green-500/20">
                  <svg class="h-3 w-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <span class="text-gray-300">Contact form</span>
              </li>
            <% } %>

            <% if (package.allowTestimonials) { %>
              <li class="flex items-start">
                <div class="flex-shrink-0 w-5 h-5 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center mr-3 mt-0.5 shadow-lg shadow-green-500/20">
                  <svg class="h-3 w-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <span class="text-gray-300">Testimonials section</span>
              </li>
            <% } %>

            <% if (package.allowEcommerce) { %>
              <li class="flex items-start">
                <div class="flex-shrink-0 w-5 h-5 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center mr-3 mt-0.5 shadow-lg shadow-green-500/20">
                  <svg class="h-3 w-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <span class="text-gray-300">E-commerce functionality</span>
              </li>
            <% } %>

            <% if (package.allowAiContent) { %>
              <li class="flex items-start">
                <div class="flex-shrink-0 w-5 h-5 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center mr-3 mt-0.5 shadow-lg shadow-green-500/20">
                  <svg class="h-3 w-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <span class="text-gray-300">AI-generated content</span>
              </li>
            <% } %>

            <% if (package.allowCustomLayout) { %>
              <li class="flex items-start">
                <div class="flex-shrink-0 w-5 h-5 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center mr-3 mt-0.5 shadow-lg shadow-green-500/20">
                  <svg class="h-3 w-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <span class="text-gray-300">Custom layout options</span>
              </li>
            <% } %>
          </ul>

          <% if (user) { %>
            <a href="/create-website?packageId=<%= package._id %>" class="block w-full <%= package.isFree ? 'bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700' : 'bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700' %> text-white font-bold py-3 px-4 rounded-lg text-center transition-all duration-300 transform hover:scale-[1.02] shadow-lg hover:shadow-xl">
              <div class="flex items-center justify-center">
                <% if (package.isFree) { %>
                  <i class="fas fa-check-circle mr-2"></i>
                <% } else { %>
                  <i class="fas fa-crown mr-2"></i>
                <% } %>
                <%= package.isFree ? 'Select Free Package' : 'Select Paid Package' %>
              </div>
            </a>
          <% } else { %>
            <a href="/users/login" class="block w-full <%= package.isFree ? 'bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700' : 'bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700' %> text-white font-bold py-3 px-4 rounded-lg text-center transition-all duration-300 transform hover:scale-[1.02] shadow-lg hover:shadow-xl">
              <div class="flex items-center justify-center">
                <i class="fas fa-sign-in-alt mr-2"></i>
                Login to Build Website
              </div>
            </a>
          <% } %>
        </div>
      </div>
    <% }); %>
  </div>

  <div class="mt-16 bg-dark-100 rounded-xl p-8 max-w-4xl mx-auto border border-purple-500/30 shadow-2xl overflow-hidden relative">
    <!-- Background gradient effect -->
    <div class="absolute inset-0 bg-gradient-to-br from-purple-500/10 to-blue-500/10 z-0"></div>

    <div class="relative z-10">
      <h2 class="text-3xl font-bold mb-6 text-center text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500">Why Choose Our Website Builder?</h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="bg-dark-200/50 backdrop-blur-sm rounded-lg p-4 border border-purple-500/20 hover:border-purple-500/40 transition-colors">
          <div class="flex items-start">
            <div class="flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center mr-4 shadow-lg shadow-purple-500/20">
              <i class="fas fa-robot text-white"></i>
            </div>
            <div>
              <h3 class="font-semibold text-white mb-1">AI-Powered Generation</h3>
              <p class="text-gray-300 text-sm">Create professional websites in minutes with our advanced AI technology</p>
            </div>
          </div>
        </div>

        <div class="bg-dark-200/50 backdrop-blur-sm rounded-lg p-4 border border-blue-500/20 hover:border-blue-500/40 transition-colors">
          <div class="flex items-start">
            <div class="flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center mr-4 shadow-lg shadow-blue-500/20">
              <i class="fas fa-mobile-alt text-white"></i>
            </div>
            <div>
              <h3 class="font-semibold text-white mb-1">Responsive Design</h3>
              <p class="text-gray-300 text-sm">Websites that look great on all devices - desktop, tablet, and mobile</p>
            </div>
          </div>
        </div>

        <div class="bg-dark-200/50 backdrop-blur-sm rounded-lg p-4 border border-green-500/20 hover:border-green-500/40 transition-colors">
          <div class="flex items-start">
            <div class="flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center mr-4 shadow-lg shadow-green-500/20">
              <i class="fas fa-tachometer-alt text-white"></i>
            </div>
            <div>
              <h3 class="font-semibold text-white mb-1">Easy Management</h3>
              <p class="text-gray-300 text-sm">Intuitive dashboard for managing and updating your website content</p>
            </div>
          </div>
        </div>

        <div class="bg-dark-200/50 backdrop-blur-sm rounded-lg p-4 border border-red-500/20 hover:border-red-500/40 transition-colors">
          <div class="flex items-start">
            <div class="flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-r from-red-500 to-orange-500 flex items-center justify-center mr-4 shadow-lg shadow-red-500/20">
              <i class="fas fa-shield-alt text-white"></i>
            </div>
            <div>
              <h3 class="font-semibold text-white mb-1">Secure Hosting</h3>
              <p class="text-gray-300 text-sm">Reliable and secure hosting included with all packages</p>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-6 text-center">
        <p class="text-gray-300">Plus 24/7 customer support to help you every step of the way!</p>
      </div>
    </div>
  </div>
</div>

<!-- Package Calculator Script -->
<script src="/js/package-calculator.js"></script>
